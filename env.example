# Poolside CLI Configuration
# Copy this file to .env and fill in your credentials

# ================================
# AI Provider Configuration
# ================================
# Choose your AI provider: "openai" (default) or "anthropic"
POOLSIDE_AI_PROVIDER=openai

# ================================
# OpenAI Configuration
# ================================
# Required if POOLSIDE_AI_PROVIDER=openai (or not set)
# Get from: https://platform.openai.com/api-keys
POOLSIDE_OPENAI_API_KEY=sk-your_openai_api_key_here

# ================================
# Anthropic Configuration
# ================================
# Required if POOLSIDE_AI_PROVIDER=anthropic
# Get from: https://console.anthropic.com/settings/keys
POOLSIDE_ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key_here

# ================================
# AI Model Settings (Optional)
# ================================
# Override the default model for your provider
# OpenAI default: gpt-4o
# Anthropic default: claude-sonnet-4-20250514
POOLSIDE_AI_MODEL=gpt-4o
POOLSIDE_AI_MAX_TOKENS=4000

# ================================
# Model Presets (NEW!)
# ================================
# Set active preset via environment variable
# Available built-in presets:
#   fast     - gpt-4o-mini (OpenAI) - Quick tasks, lower cost
#   quality  - claude-sonnet-4-20250514 (Anthropic) - Best output quality
#   balanced - gpt-4o (OpenAI) - Good balance of speed/quality (default)
#   cheap    - gpt-3.5-turbo (OpenAI) - Lowest cost
#
# POOLSIDE_PRESET=balanced
#
# Model Resolution Priority:
# 1. --model flag (e.g., poolside diff --model anthropic:claude-3-haiku-20240307)
# 2. --preset flag (e.g., poolside diff --preset fast)
# 3. POOLSIDE_AI_MODEL + POOLSIDE_AI_PROVIDER env vars
# 4. POOLSIDE_PRESET env var
# 5. activePreset in ~/.poolside/config.json
# 6. "balanced" preset (default)
#
# Manage presets with:
#   poolside config list           - Show all presets
#   poolside config use <preset>   - Switch active preset
#   poolside config add <name>     - Add custom preset
#   poolside config remove <name>  - Remove custom preset

# ================================
# JIRA Configuration (Required)
# ================================
POOLSIDE_JIRA_HOST=your-company.atlassian.net
POOLSIDE_JIRA_USERNAME=your_jira_username
POOLSIDE_JIRA_PASSWORD=your_jira_password_or_pat

# ================================
# GitHub Configuration (Required for Release Notes)
# ================================
POOLSIDE_GITHUB_TOKEN=ghp_your_github_token_here

# ================================
# Configuration Notes
# ================================
#
# AI Provider Selection:
# - Set POOLSIDE_AI_PROVIDER to choose between "openai" or "anthropic"
# - Only the API key for your selected provider is required
# - You can switch providers by changing POOLSIDE_AI_PROVIDER and setting the appropriate key
#
# OpenAI Configuration:
# - Get API key from: https://platform.openai.com/api-keys
# - Models: gpt-4o (best quality), gpt-4o-mini (good balance), gpt-3.5-turbo (fastest)
#
# Anthropic Configuration:
# - Get API key from: https://console.anthropic.com/settings/keys
# - Models: claude-sonnet-4-20250514 (default), claude-3-5-sonnet-20241022, claude-3-haiku-20240307
#
# JIRA Configuration:
# - Get from: https://id.atlassian.com/manage-profile/security/api-tokens
# - JIRA_HOST: Your JIRA hostname WITHOUT https:// (e.g., company.atlassian.net)
# - JIRA_USERNAME: Your JIRA username/email
# - JIRA_PASSWORD: Your JIRA password or Personal Access Token (PAT recommended)
# - For PAT setup, run: poolside setup-jira-pat
#
# GitHub Token Configuration:
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 
# ğŸ”— Where to Get Tokens:
#   CLASSIC TOKENS:     https://github.com/settings/tokens
#   FINE-GRAINED:       https://github.com/settings/tokens?type=beta (recommended)
#
# ğŸ“‹ Required for Release Notes Generation:
#   - Repository validation and access
#   - Reading pull request data (CRITICAL!)
#   - Automatic branch detection
#   - Organization access (for org repositories)
#
# ğŸ” TOKEN TYPE 1: FINE-GRAINED TOKENS (Recommended)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#   Repository Permissions Required:
#   â”œâ”€â”€ Contents: Read           âœ… Access repository files and metadata
#   â”œâ”€â”€ Metadata: Read           âœ… Access repository metadata (mandatory)
#   â””â”€â”€ Pull requests: Read      âœ… List and read pull requests (ESSENTIAL!)
#
#   Organization Settings:
#   â””â”€â”€ Resource owner: [Your-Org]  âœ… Select your organization (e.g., Istari-digital)
#   â””â”€â”€ Repository access: All      âœ… OR select specific repositories
#
#   âš ï¸  CRITICAL: Missing "Pull requests: Read" permission will cause:
#       "Resource not accessible by personal access token" errors
#
# ğŸ” TOKEN TYPE 2: CLASSIC TOKENS (Legacy)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#   Required Scopes:
#
#   FOR PUBLIC REPOSITORIES:
#   â”œâ”€â”€ public_repo              âœ… Access public repositories
#   â””â”€â”€ read:org                 âœ… Read organization membership
#
#   FOR PRIVATE REPOSITORIES:
#   â”œâ”€â”€ repo                     âœ… Full control of private repositories
#   â”‚   â”œâ”€â”€ repo:status          â”œâ”€â”€ Access commit status
#   â”‚   â”œâ”€â”€ repo_deployment      â”œâ”€â”€ Access deployment status  
#   â”‚   â”œâ”€â”€ public_repo          â”œâ”€â”€ Access public repositories
#   â”‚   â””â”€â”€ repo:invite          â””â”€â”€ Access repository invitations
#   â””â”€â”€ read:org                 âœ… Read organization membership
#
# ğŸ’¡ Recommended Setup:
#   1. Use Fine-grained tokens for better security
#   2. For Classic tokens: use "repo" + "read:org" for maximum compatibility
#   3. Set expiration to 90 days max
#   4. Test with: poolside setup test
#
# âš ï¸  Common Token Issues:
#   Fine-grained tokens:
#   - "Resource not accessible" = missing "Pull requests: Read" permission
#   - "Repository not found" = missing organization access or wrong owner
#   
#   Classic tokens:
#   - "Not Found" errors = missing repo scope or repository doesn't exist
#   - "Access denied" errors = missing read:org scope for organization repos
#
# ğŸ”„ Token Management:
#   - Set expiration to 90 days max for security
#   - Rotate tokens regularly
#   - Use environment variables in production
#   - Never commit tokens to version control
#
# Security Notes:
# - Never commit this file to version control
# - Use environment variables in production
# - Rotate tokens regularly
# - Personal Access Tokens are more secure than passwords 
